<%-include('../layouts/header.ejs') -%>

<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <script src="https://code.iconify.design/iconify-icon/1.0.5/iconify-icon.min.js"></script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script
      src="https://unpkg.com/js-image-zoom@0.7.0/js-image-zoom.js"
      type="application/javascript"
    ></script>
    <script src="assets/zoomsl.js" type="text/javascript"></script>

    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>Product</title>

    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="" />
    <!-- assets/img/favicons/apple-touch-icon.png -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/img/favicons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/img/favicons/favicon-16x16.png"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="assets/img/favicons/favicon.ico"
    />
    <link rel="manifest" href="assets/img/favicons/manifest.json" />
    <meta
      name="msapplication-TileImage"
      content="assets/img/favicons/mstile-150x150.png"
    />
    <meta name="theme-color" content="#ffffff" />

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link href="assets/css4/theme.css" rel="stylesheet" />

    <!--    **************************************************    -->

    <link
      rel="stylesheet"
      type="text/css"
      href="assets/css4/bootstrap.min.css"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="assets/css4/font-awesome.css"
    />

    <link rel="stylesheet" href="assets/css4/templatemo-hexashop.css" />

    <link rel="stylesheet" href="assets/css4/owl-carousel.css" />

    <link rel="stylesheet" href="assets/css4/lightbox.css" />
    <script>
      function popupcart() {
        alert("product added to cart");
      }
      function popupwishlist() {
        alert("product added to wishlist");
      }

      $(".left-images")
        // tile mouse actions
        .on("mouseover", function () {
          $(this)
            .children(".theimage")
            .css({ transform: "scale(" + $(this).attr("data-scale") + ")" });
        })
        .on("mouseout", function () {
          $(this).children(".theimage").css({ transform: "scale(1)" });
        })
        .on("mousemove", function (e) {
          $(this)
            .children(".theimage")
            .css({
              "transform-origin":
                ((e.pageX - $(this).offset().left) / $(this).width()) * 100 +
                "% " +
                ((e.pageY - $(this).offset().top) / $(this).height()) * 100 +
                "%",
            });
        });

      $(".img_producto_container")
        // tile mouse actions
        .on("mouseover", function () {
          $(this)
            .children(".img_producto")
            .css({ transform: "scale(" + $(this).attr("data-scale") + ")" });
        })
        .on("mouseout", function () {
          $(this).children(".img_producto").css({ transform: "scale(1)" });
        })
        .on("mousemove", function (e) {
          $(this)
            .children(".img_producto")
            .css({
              "transform-origin":
                ((e.pageX - $(this).offset().left) / $(this).width()) * 100 +
                "% " +
                ((e.pageY - $(this).offset().top) / $(this).height()) * 100 +
                "%",
            });
        });

      function zoom(e) {
        var zoomer = e.currentTarget;
        e.offsetX ? (offsetX = e.offsetX) : (offsetX = e.touches[0].pageX);
        e.offsetY ? (offsetY = e.offsetY) : (offsetX = e.touches[0].pageX);
        x = (offsetX / zoomer.offsetWidth) * 100;
        y = (offsetY / zoomer.offsetHeight) * 100;
        zoomer.style.backgroundPosition = x + "%" + y + "%";
      }
    </script>
    <style>
      figure.zoom {
        background-position: 50% 50%;
        position: relative;
        width: 50px;
        overflow: hidden;
        cursor: zoom-in;
      }
      figure.zoom img:hover {
        opacity: 0;
      }
      figure.zoom img {
        transition: opacity 0.5s;
        display: block;
        width: 100%;
      }
      .productarea {
        margin-top: 10%;
      }
      .left-images {
        cursor: zoom-in;
      }

      .container img {
        width: 100%;
        height: auto;
      }

      .wcheck .wbtn {
        position: absolute;
        top: 10%;
        left: 85%;

        transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        background-color: #f1f1f100;
        color: black;
        font-size: 26px;
        padding: 6px 10px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        text-align: center;
      }

      .wcheck .wbtn:hover {
        background-color: rgba(0, 0, 0, 0.716);
        color: white;
      }

      .button-17 {
        align-items: center;
        appearance: none;
        background-color: #fff;
        border-radius: 24px;
        border-style: none;
        box-shadow: rgba(0, 0, 0, 0.2) 0 3px 5px -1px,
          rgba(0, 0, 0, 0.14) 0 6px 10px 0, rgba(0, 0, 0, 0.12) 0 1px 18px 0;
        box-sizing: border-box;
        color: #3c4043;
        cursor: pointer;
        display: inline-flex;
        fill: currentcolor;
        font-family: "Google Sans", Roboto, Arial, sans-serif;
        font-size: 14px;
        font-weight: 500;
        height: 48px;
        justify-content: center;
        letter-spacing: 0.25px;
        line-height: normal;
        max-width: 100%;
        overflow: visible;
        padding: 2px 24px;
        position: relative;
        text-align: center;
        text-transform: none;
        transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),
          opacity 15ms linear 30ms,
          transform 270ms cubic-bezier(0, 0, 0.2, 1) 0ms;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
        width: auto;
        will-change: transform, opacity;
        z-index: 0;
      }

      .button-17:hover {
        background: #f6f9fe;
        color: #174ea6;
      }

      .button-17:active {
        box-shadow: 0 4px 4px 0 rgb(60 64 67 / 30%),
          0 8px 12px 6px rgb(60 64 67 / 15%);
        outline: none;
      }

      .button-17:focus {
        outline: none;
        border: 2px solid #4285f4;
      }

      .button-17:not(:disabled) {
        box-shadow: rgba(60, 64, 67, 0.3) 0 1px 3px 0,
          rgba(60, 64, 67, 0.15) 0 4px 8px 3px;
      }

      .button-17:not(:disabled):hover {
        box-shadow: rgba(60, 64, 67, 0.3) 0 2px 3px 0,
          rgba(60, 64, 67, 0.15) 0 6px 10px 4px;
      }

      .button-17:not(:disabled):focus {
        box-shadow: rgba(60, 64, 67, 0.3) 0 1px 3px 0,
          rgba(60, 64, 67, 0.15) 0 4px 8px 3px;
      }

      .button-17:not(:disabled):active {
        box-shadow: rgba(60, 64, 67, 0.3) 0 4px 4px 0,
          rgba(60, 64, 67, 0.15) 0 8px 12px 6px;
      }

      .button-17:disabled {
        box-shadow: rgba(60, 64, 67, 0.3) 0 1px 3px 0,
          rgba(60, 64, 67, 0.15) 0 4px 8px 3px;
      }
    </style>
  </head>

  <body>
    <!-- ===============================================-->
    <!--    Main Content-->
    <!-- ===============================================-->

    <main class="main" id="top">
      <nav
        class="navbar navbar-expand-lg navbar-light fixed-top py-1 d-block"
        data-navbar-on-scroll="data-navbar-on-scroll"
      >
        <div class="container">
          <a class="navbar-brand d-inline-flex" href="/"
            ><img
              class="d-inline-block"
              src="assets/img/gallery/logo3.png"
              style="width: 4rem; margin-left: -3rem"
              alt="logo"
            /><span class="text-1000 fs-1 fw-bold mt-3">HUFIKO</span></a
          >
          <button
            class="navbar-toggler collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0"
            id="navbarSupportedContent"
          >
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <% cate.forEach(function(cate){%>
              <li class="nav-item px-2">
                <a
                  class="nav-link fw-medium active"
                  aria-current="page"
                  href="/view-category?id=<%= cate._id %>"
                  ><%= cate.name%></a
                >
              </li>
              <%})%>
              <li class="nav-item px-2">
                <a class="nav-link fw-medium" href="/viewProducts">All Items</a>
              </li>
            </ul>
            <form class="d-flex">
              <% if(typeof abc !=='undefined'){ %> <% if (abc=="loggedout") { %>

              <a href="/login">Log In</a>
              <%} else { %>
              <a class="text-1000" href="/view-orders">
                <svg
                  class="feather feather-phone me-3"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
                  ></path></svg
              ></a>
              <a class="text-1000" href="/view-cart">
                <svg
                  class="feather feather-shopping-cart me-3"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="9" cy="21" r="1"></circle>
                  <circle cx="20" cy="21" r="1"></circle>
                  <path
                    d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                  ></path></svg
              ></a>

              <a class="text-1000" href="/view-profile">
                <svg
                  class="feather feather-user me-3"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle></svg
              ></a>

              <a class="text-1000" href="/view-wishlist">
                <svg
                  class="feather feather-heart me-3"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                  ></path></svg
              ></a>

              <a href="/logout">Log Out</a>
              <% } %> <% } %>
            </form>
          </div>
        </div>
      </nav>

      <section class="section" id="product">
        <div class="container">
          <div class="row">
            <div class="col-lg-6">
              <div class="left-images" id="left-images">
                <figure
                  class="zoom w-75 h-75"
                  onmousemove="zoom(event)"
                  style="
                    background-image: url(/product-images/<%=product.image[0]%>);
                  "
                  ;
                >
                  <img
                    class="image-fluid"
                    src="/product-images/<%= product.image[0] %>"
                    alt=""
                  />
                </figure>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="right-content">
                <h4><%= product.productname %></h4>
                <span class="price">Rs: <%= product.price %></span>
                <ul class="stars">
                  <li><i class="fa fa-star"></i></li>
                  <li><i class="fa fa-star"></i></li>
                  <li><i class="fa fa-star"></i></li>
                  <li><i class="fa fa-star"></i></li>
                </ul>
                <br />

                <span><%= product.description%></span>

                <br /><br />
                <div class="total">
                  <h4>Rs: <%= product.price %></h4>
                  <% if(typeof abc !=='undefined'){ %> <% if (abc=="loggedout")
                  { %> <%} else { %>
                  <div class="main-border-button">
                    <br />
                    <button
                      class="button-17"
                      role="button"
                      onclick="popupwishlist();addToWishlist('<%= product._id %>')"
                    >
                      Add to Wishlist
                    </button>
                    <br /><br />
                    <button
                      class="button-17"
                      onclick="addToCart('<%= product._id %>');popupcart()"
                    >
                      Add to Cart
                    </button>

                    <script>
                      function addToCart(id) {
                        $.ajax({
                          url: "/add-to-cart",
                          method: "post",
                          encoded: true,
                          data: {
                            id: id,
                          },
                        }).done((data) => {
                          console.log(data);
                          if (data.success) {
                            window.location.reload();
                          }
                        });
                      }

                      function addToWishlist(id) {
                        $.ajax({
                          url: "/add-to-wishlist",
                          method: "post",
                          encoded: true,
                          data: {
                            id: id,
                          },
                        }).done((data) => {
                          console.log(data);
                          if (data.success) {
                            window.location.reload();
                          }
                        });
                      }
                    </script>
                  </div>
                  <% } %> <% } %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- ===============================================-->
    <!--    End of Main Content-->
    <!-- ===============================================-->

    <!-- ===============================================-->
    <!--    JavaScripts-->
    <!-- ===============================================-->
    <script src="vendors/@popperjs/popper.min.js"></script>
    <script src="vendors/bootstrap/bootstrap.min.js"></script>
    <script src="vendors/is/is.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
    <script src="vendors/feather-icons/feather.min.js"></script>
    <script>
      feather.replace();
    </script>
    <script src="assets/js/theme.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Jost:wght@200;300;400;500;600;700;800;900&amp;display=swap"
      rel="stylesheet"
    />

    <!-- --------------------------------------- -->

    <script src="assets/js4/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js4/popper.js"></script>
    <script src="assets/js4/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js4/owl-carousel.js"></script>
    <script src="assets/js4/accordions.js"></script>
    <script src="assets/js4/datepicker.js"></script>
    <script src="assets/js4/scrollreveal.min.js"></script>
    <script src="assets/js4/waypoints.min.js"></script>
    <script src="assets/js4/jquery.counterup.min.js"></script>
    <script src="assets/js4/imgfix.min.js"></script>
    <script src="assets/js4/slick.js"></script>
    <script src="assets/js4/lightbox.js"></script>
    <script src="assets/js4/isotope.js"></script>
    <script src="assets/js4/quantity.js"></script>

    <!-- Global Init -->
    <script src="assets/js4/custom.js"></script>
  </body>
</html>

<%-include('../layouts/footer.ejs') -%>
